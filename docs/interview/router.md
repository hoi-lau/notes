---
title: 前端路由的实现
date: 2019-07-08
tags:
 - web
publish: false
---

## hash路由

hash是URL中的锚点，代表的是网页中的一个位置，单单改变#后的部分，浏览器只会加载相应位置的内容，不会重新加载页面.

每一次改变hash后，都会在浏览器的访问历史中增加一个记录，使用”后退”按钮，就可以回到上一个位置.

通过onhashchange监听到hash值的变化

## history路由

14年后，因为 HTML5 标准发布。多了两个 API，`pushState` 和 `replaceState`，通过这两个 API 可以改变 url 地址且不会发送请求。同时还有`popstate` 事件。通过这些就能用另一种方式来实现前端路由了，但原理都是跟 hash 实现相同的。用了 HTML5 的实现，单页路由的 url  就不会多出一个#，变得更加美观。但因为没有 #  号，所以当用户刷新页面之类的操作时，浏览器还是会给服务器发送请求。为了避免出现这种情况，所以这个实现需要服务器的支持，需要把所有路由都重定向到根页面。

## vue-router实现原理