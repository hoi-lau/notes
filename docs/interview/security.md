---
title: 谈谈web安全
date: 2020-06-26
categories:
 - web
tags:
 - security
publish: false
---

> 一个健壮的、牢不可破的系统应该是：**即使被拿走了数据和所有的代码，也没办法破解里面的数据。**

1. 首先保障数据很难被拖库。

2. 即使数据被拖库，攻击者也无法从中破解出用户的密码。

3. 即使数据被拖库，攻击者也无法伪造登录请求通过验证。

4. 即使数据被拖库，攻击者劫持了用户的请求数据，也无法破解出用户的密码

## 鉴权

鉴权（authentication）是指验证用户是否拥有访问系统的权利。 

常用的鉴权有四种：

- HTTP Basic Authentication
- session-cookie
- Token 验证
- OAuth(开放授权)

### 针对Web的攻击技术

### sql注入

通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令

```sq
select * from username "test" or ""="" and password="123456"
```
###  XSS

Cross Site Scripting 又叫做跨站脚本攻击.

恶意攻击者往Web页面里插入恶意Script代码，当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的。

#### 常见攻击手段

- 窃取cookie. 
- 恶意跳转. `<script>window.location.href="http://www.baidu.com";</script>`

#### 防御措施

- 首先是过滤。对诸如<script>、<img>、<a>等标签进行过滤。
- `set-cookie`设置`http-only`
- 其次是编码。像一些常见的符号，如<>在输入的时候要对其进行转换编码，这样做浏览器是不会对该标签进行解释执行的，同时也不影响显示效果。

###  CSRF

`Cross-site request forgery`, 跨站请求伪造

攻击者构造出一个后端请求地址，诱导用户点击或者通过某些途径自动发起请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，冒充用户执行某些操作。

### 远程执行命令

用户通过浏览器提交执行命令，由于服务器端没有针对执行函数做过滤，导致执行命令。

#### 防御措施

- 通过增加网站A的验证手段

- 验证`Referer`

- 验证`Token`

###  请求劫持

1. DNS劫持. 对DNS服务器动手
2. 内容劫持. 网络运营商的锅

###  DDOS

处于不同位置的多个攻击者同时向一个或数个目标发动攻击，或者一个攻击者控制了位于不同位置的多台机器并利用这些机器对受害者同时实施攻击。由于攻击的发出点是分布在不同地方的，这类攻击称为分布式拒绝服务攻击，其中的攻击者可以有多个。

